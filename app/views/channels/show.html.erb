<!-- 0 -->
<!-- TOP 最上層 搜尋 新的工作空間 -->
<div class="border-b stork-nav px-6 py-2 flex items-center justify-between">
  <div class="stork-wrapper">
    <div class="flex  items-center">
      <div class="mb-1 font-extrabold">
        <i class="fa fa-clock-o" aria-hidden="true"></i>
      </div>

      <div class="space-search-group mx-3 mb-1 font-extrabold flex items-center">
        <span class="sp-search-icon"><i class="fa fa-search" aria-hidden="true"></i></span>
        <input class="inp-space-search" placeholder="搜尋 新的工作空間 # select2">
      </div>

      <!-- ＴＯＰ 右邊的問號圖式 -->
      <div class="mb-1 font-extrabold">
        <i class="fa fa-question-circle-o" aria-hidden="true"></i>
      </div>

      <!-- ＴＯＰ 最右側的頭像 User Avatar -->
      <div class="online-user">
        <span tabindex="0" class="sp-user-avatar">
          <img src="http://fakeimg.pl/24x24/00CED1/FFF/?text=A">
        </span>
      </div>
    </div>
  </div>
</div>
<!-- 0 TOP 最上層 搜尋 end -->


<!-- 公版開始 -->
<div class="outer-panel container font-sans antialiased h-screen">
  <!-- 1 最左側的 ＩＣＯＮ ＬＩＳＴ -->
  <div class="space-icons-panel flex-none w-24 p-6 md:block">

    <div class="space-icon-group cursor-pointer mb-4">
      <% @space_public_channels.each do |mall| %>
        <div
          class="bg-white h-12 w-12 flex items-center justify-center text-black text-2xl font-semibold rounded-lg mb-1 overflow-hidden">
          <%= link_to mall.space.name, space_channel_path(space_id: mall.space_id, id: mall.id) %>
        </div>
        <% end %>
    </div>

    <!-- ＳＰＡＣＥ ＩＣＯＮ - 新增 Space -->
    <div class="cursor-pointer">
      <div
        class="bg-white sticky top-0 left-0 opacity-25 h-12 w-12 flex items-center justify-center text-black text-2xl font-semibold rounded-lg mb-1 overflow-hidden">
        <i class="fas fa-plus"></i>
      </div>
    </div>
    <!-- ＳＰＡＣＥ ＩＣＯＮ - end -->
  </div>
  <!-- 1 end -->

    <!-- 側邊欄部分開始 -->
    <%= render "shared/sidebar", channels: @channels, lobby_channel: @lobby_channel %>
    <!-- 側邊欄部分結束 -->
    <%# </div> %>

      <div class="stork-panel flex flex-col flex-1 bg-white overflow-hidden" data-controller="channel"
        data-channel-channelid=<%=@channel.id %> data-channel-spaceid=<%= @space.id %>>

          <!-- 2 start -->
          <!-- Top bar -->
          <div class="space-target-title border-b items-center flex-none bg-gray">

            <div class="flex justify-between items-center">
              <div class="flex flex-col">
                <h3 class="mb-1 font-extrabold">
                  <% if @channel.direct_message %>
                    <%= @recipient.name %>
                      <% else %>
                        <%= @channel.name %>
                          <% end %>
                            <i class="fa fa-bell-o" aria-hidden="true"></i>
                            <!-- <i class="fa fa-bell-slash-o" aria-hidden="true"></i> -->
                            <i class="fa fa-star-o" aria-hidden="true"></i>
                            <!-- <i class="fa fa-star" aria-hidden="true"></i> -->
                </h3>
                <!--      <div class="text-grey-dark text-sm truncate">
              Chit-chattin' about ugly HTML and mixing of concerns.
            </div> -->
              </div>
              <div class="online-users text-yellow-darker" data-user="<%= current_user.email %>"><i
                  class="fas fa-user-plus"></i></div>

            </div>
          </div>
          <!-- 2 end -->

          <!-- 2 start -->
          <!-- Chat messages -->
          <div class="chat-message px-6 py-4 flex-1 overflow-y-scroll" data-channel-target="messages">
            <% @channel.messages.each do |message| %>
              <%= render "messages/message" , message: message %>
                <% end %>
          </div>
          <!-- 2 end -->

          <!-- 2 start -->
          <div class="message-editor-panel mb-8 pb-6 px-4 flex-none">
            <div class="message-editor flex rounded-lg border-2 border-grey overflow-hidden">
              <span class="text-3xl text-grey border-r-2 border-grey p-2">
                <i class="fas fa-plus"></i>
              </span>

              <%= form_with model: Message.new, url: space_channel_messages_path(@space, @channel), data: {
                action: "channel#sendMessage" } do |form| %>
                <%= form.text_field :content, class: "w-full px-4" , placeholder: "Type your message" %>
                  <%= form.submit "Sent Message" %>
                    <% end %>
                      <%#= render "messages/form" , message: Message.new, channel: @channel %>
            </div>
          </div>
          <!-- 2 end -->















          <!-- 公版結束 -->
